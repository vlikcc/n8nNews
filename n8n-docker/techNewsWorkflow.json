{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "url": "https://ntv.com.tr/teknoloji.rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        1280
      ],
      "id": "43c657bc-530c-4bce-8c8e-77680c2b1e56",
      "name": "RSS Read",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "http://techcrunch.com/feed",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        1420
      ],
      "id": "6984ebab-7a2b-4e4d-827a-a674e46a0fa3",
      "name": "RSS Read1",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.cnet.com/rss/news/",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        1580
      ],
      "id": "fd4badde-84f2-4e19-b00e-b5e8b36b0a5c",
      "name": "RSS Read2",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "http://techradar.com/feeds.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        1740
      ],
      "id": "793d06fa-e245-4893-bf32-f0ba96cfefe3",
      "name": "RSS Read3",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://rss.nytimes.com/services/xml/rss/nyt/Technology.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        1900
      ],
      "id": "e364abc2-25d3-4956-9b2b-99cfd56e971a",
      "name": "RSS Read4",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://rss.nytimes.com/services/xml/rss/nyt/Science.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        2060
      ],
      "id": "c1e26cb6-5014-40c8-a3fd-6327affef438",
      "name": "RSS Read5",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "http://rss.cnn.com/rss/edition_technology.rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        2220
      ],
      "id": "5d5c6f65-a1e7-4cb8-b2d8-216b46d30d43",
      "name": "RSS Read8",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "http://rss.cnn.com/rss/edition_space.rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        2380
      ],
      "id": "67717494-57a1-4358-b72d-35b3cd28ebab",
      "name": "RSS Read9",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "http://feeds.bbci.co.uk/news/technology/rss.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        660
      ],
      "id": "70ac2450-4121-49f6-96a7-7406e92cbd5d",
      "name": "RSS Read12",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "http://feeds.bbci.co.uk/news/science_and_environment/rss.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        800
      ],
      "id": "45528f56-b2ee-4cce-92bc-45b4809ec77f",
      "name": "RSS Read13",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.theguardian.com/uk/technology/rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        960
      ],
      "id": "da1b03e9-4ae4-4b72-a98b-4914a60c7c92",
      "name": "RSS Read14",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.theguardian.com/science/rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        1120
      ],
      "id": "4f8882e6-7665-4999-90e5-258819798591",
      "name": "RSS Read15",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.lemonde.fr/sciences/rss_full.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        340
      ],
      "id": "ef95294c-87c3-420c-ab1c-44282b35e8b6",
      "name": "RSS Read21",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.france24.com/en/rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        500
      ],
      "id": "b66086c9-e198-46f7-8238-2e0ab3462f0c",
      "name": "RSS Read22",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://rss.cbc.ca/lineup/technology.xml",
        "options": {
          "ignoreSSL": false
        }
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "5ae0aff0-80bb-45eb-87e8-f6b166b91b43",
      "name": "RSS Read25",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.abc.net.au/news/feed/51120/rss.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        180
      ],
      "id": "06c91458-ecc2-4b3d-bf47-2ecf8450a588",
      "name": "RSS Read27",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "url": "https://www.svt.se/nyheter/vetenskap/rss.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        2600
      ],
      "id": "b39a7549-d424-47f4-bfa1-d432e3614676",
      "name": "RSS Read30",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "// Wait node'undan gelen tÃ¼m verileri birleÅŸtir\nconst allRssData = [];\n\n// items dizisini kontrol et ve verileri birleÅŸtir\n$input.all().forEach(input => {\n    if (input.json && input.json.items) {\n        // RSS feed verilerini direkt olarak al\n        allRssData.push(...input.json.items);\n    } else if (Array.isArray(input.json)) {\n        // Dizi ÅŸeklinde gelen verileri al\n        allRssData.push(...input.json);\n    } else if (input.json) {\n        // Tekil veriyi al\n        allRssData.push(input.json);\n    }\n});\n\nconsole.log(`Toplam iÅŸlenecek haber sayÄ±sÄ±: ${allRssData.length}`);\n\n// RSS'den gÃ¶rsel Ã§Ä±karma fonksiyonu\nfunction extractImageFromRSS(item) {\n    let imageUrl = '';\n    \n    // 1. Enclosure URL (podcast/medya dosyalarÄ± iÃ§in)\n    if (item.enclosure && item.enclosure.url && \n        (item.enclosure.url.includes('.jpg') || item.enclosure.url.includes('.png') || \n         item.enclosure.url.includes('.jpeg') || item.enclosure.url.includes('.webp'))) {\n        imageUrl = item.enclosure.url;\n    }\n    // 2. Media:content (RSS medya eklentisi)\n    else if (item['media:content'] && item['media:content']['$'] && item['media:content']['$'].url) {\n        imageUrl = item['media:content']['$'].url;\n    }\n    // 3. Media:thumbnail (kÃ¼Ã§Ã¼k resim)\n    else if (item['media:thumbnail'] && item['media:thumbnail']['$'] && item['media:thumbnail']['$'].url) {\n        imageUrl = item['media:thumbnail']['$'].url;\n    }\n    // 4. Image field (bazÄ± RSS formatlarÄ±)\n    else if (item.image && typeof item.image === 'string') {\n        imageUrl = item.image;\n    }\n    else if (item.image && item.image.url) {\n        imageUrl = item.image.url;\n    }\n    // 5. HTML iÃ§eriÄŸinden img tag'lerini bul\n    else if (item.content && typeof item.content === 'string') {\n        const imgMatch = item.content.match(/<img[^>]+src=[\"']([^\"'>]+)[\"'][^>]*>/i);\n        if (imgMatch && imgMatch[1]) {\n            imageUrl = imgMatch[1];\n        }\n    }\n    // 6. Description iÃ§eriÄŸinden img tag'lerini bul\n    else if (item.description && typeof item.description === 'string') {\n        const imgMatch = item.description.match(/<img[^>]+src=[\"']([^\"'>]+)[\"'][^>]*>/i);\n        if (imgMatch && imgMatch[1]) {\n            imageUrl = imgMatch[1];\n        }\n    }\n    // 7. ContentSnippet iÃ§eriÄŸinden img tag'lerini bul\n    else if (item.contentSnippet && typeof item.contentSnippet === 'string') {\n        const imgMatch = item.contentSnippet.match(/<img[^>]+src=[\"']([^\"'>]+)[\"'][^>]*>/i);\n        if (imgMatch && imgMatch[1]) {\n            imageUrl = imgMatch[1];\n        }\n    }\n    \n    return imageUrl;\n}\n\n// 24 saat Ã¶ncesini hesapla\nconst twentyFourHoursAgo = new Date(Date.now() - (24 * 60 * 60 * 1000));\n\n// Tarih filtrelemesi yaparak sadece son 24 saatteki haberleri al\nconst recentNews = allRssData.filter((item) => {\n    const newsDate = new Date(item.pubDate || item.isoDate || '1970-01-01');\n    return newsDate >= twentyFourHoursAgo;\n});\n\nconsole.log(`Filtreleme Ã¶ncesi haber sayÄ±sÄ±: ${allRssData.length}`);\nconsole.log(`24 saat filtresi sonrasÄ± haber sayÄ±sÄ±: ${recentNews.length}`);\n\n// Sadece son 24 saatteki haberleri AI'ya gÃ¶nder\nconst allNewsFormatted = recentNews.map((item, index) => {\n    // Ä°ngilizce baÅŸlÄ±k ve iÃ§eriÄŸi Ã§evirmesi iÃ§in AI'ya talimat ver\n    const title = item.title;\n    const content = item.contentSnippet || item.content || item.description;\n    const date = item.pubDate || item.isoDate || new Date().toISOString();\n    const link = item.link || '';\n    const imageUrl = extractImageFromRSS(item);\n\n    return `${index + 1}. BAÅLIK (TÃ¼rkÃ§e'ye Ã§evir): ${title}\n     Ä°Ã‡ERÄ°K (TÃ¼rkÃ§e'ye Ã§evir): ${content}\n     TARÄ°H: ${date}\n     LÄ°NK: ${link}\n     GÃ–RSEL: ${imageUrl}\n     \n     ---`;\n}).join('\\n');\n\nconst prompt = `\nAÅŸaÄŸÄ±da ${recentNews.length}  adet RSS haberi bulunuyor (Son 24 saat iÃ§inde yayÄ±nlanan). \n## GÃ–REV TANIMI\nVerilen RSS haber listesinden en ilginÃ§ 30 haberi seÃ§erek TÃ¼rkÃ§e analiz raporu hazÄ±rla.\n\n\n## SEÃ‡Ä°M KRÄ°TERLERÄ° (Ã–ncelik SÄ±rasÄ±)\n\n### Birinci Ã–ncelik (En az 8-10 haber)\n1. **YAPAY ZEKA GELÄ°ÅMELERÄ°**: ChatGPT, LLM'ler, AI araÃ§larÄ±, makine Ã¶ÄŸrenmesi\n2. **YENÄ° TEKNOLOJÄ°K ÃœRÃœNLER**: AkÄ±llÄ± telefonlar, gadget'lar, yenilikÃ§i yazÄ±lÄ±mlar\n3. **TEKNOLOJÄ° ÅÄ°RKETLERÄ°**: Apple, Google, Microsoft, Meta, Tesla, OpenAI haberleri\n\n### Ä°kinci Ã–ncelik (En az 5-7 haber)\n4. **EÄÄ°TÄ°M TEKNOLOJÄ°LERÄ°**\n5. **UZAY TEKNOLOJÄ°SÄ° VE ROKET GELÄ°ÅMELERÄ°**\n6. **YENÄ°LENEBÄ°LÄ°R ENERJÄ° TEKNOLOJÄ°LERÄ°**\n\n### ÃœÃ§Ã¼ncÃ¼ Ã–ncelik (Kalan haberler)\n7. **BÄ°OTEKNOLOJÄ° VE SAÄLIK TEKNOLOJÄ°LERÄ°**\n8. **ROBOTLAR VE OTOMASYON**\n9. **ELEKTRÄ°KLÄ° ARAÃ‡LAR VE OTONOM SÃœRÃœÅ**\n10. **SÄ°BER GÃœVENLÄ°K**\n\n## SEÃ‡Ä°M KURALLARI\n- âœ… Her konudan maksimum 3-4 haber seÃ§\n- âœ… AynÄ± haberin farklÄ± kaynaklardaki versiyonlarÄ±ndan sadece birini seÃ§\n- âœ… GÃ¼ncel ve etkili haberleri Ã¶nceliklendir\n- âœ… FarklÄ±lÄ±k ve Ã§eÅŸitlilik saÄŸla\n- âœ… YayÄ±nlanma tarihi 24 saatten eski olan haberleri seÃ§me.\n\n## Ã‡EVÄ°RÄ° VE YERELLEÅTIRME TALÄ°MATLARI\n\n### Dil KurallarÄ±\n- TÃ¼m iÃ§erikleri **akÄ±cÄ± ve doÄŸal TÃ¼rkÃ§e**'ye Ã§evir\n- Teknik terimleri uygun TÃ¼rkÃ§e karÅŸÄ±lÄ±klarÄ±yla kullan\n- AnlaÅŸÄ±lÄ±r ve gÃ¼ncel dil tercih et\n\n### Terim Ã‡evirileri (Ã–rnekler)\n- \"AI/Artificial Intelligence\" â†’ \"Yapay Zeka\"\n- \"Machine Learning\" â†’ \"Makine Ã–ÄŸrenmesi\"\n- \"Deep Learning\" â†’ \"Derin Ã–ÄŸrenme\"\n- \"Smartphone\" â†’ \"AkÄ±llÄ± Telefon\"\n- \"Electric Vehicle\" â†’ \"Elektrikli AraÃ§\"\n- \"Renewable Energy\" â†’ \"Yenilenebilir Enerji\"\n\n## Ã‡IKTI FORMATI\n\n### Her Haber Ä°Ã§in Åablon\n\\`\\`\\`\nSLIDE [NUMARA]: [TÃœRKÃ‡E HABER BAÅLIÄI]\nâ€¢ RSS GÃ¶rsel: [SeÃ§ilen haberin orijinal gÃ¶rsel URL'si]\nâ€¢ AÃ§Ä±klama: [50-75 kelimelik tek paragraf halinde: ana konu Ã¶zeti, neden Ã¶nemli olduÄŸu ve gelecekteki potansiyel etkilerini iÃ§eren kapsamlÄ± aÃ§Ä±klama]\n  - Kaynak: [RSS verilerindeki LÄ°NK alanÄ±ndan alÄ±nan URL'yi AYNEN buraya kopyala]\n\\`\\`\\`\n\n### Ã–NEMLÄ°: KAYNAK URL KURALI\n- Her haberin \"LÄ°NK:\" satÄ±rÄ±nda verilen URL'yi, \"Kaynak:\" satÄ±rÄ±na deÄŸiÅŸtirmeden kopyala\n- URL'yi asla deÄŸiÅŸtirme, kÄ±saltma veya baÅŸka bir URL ile deÄŸiÅŸtirme\n- Ã–rnek: EÄŸer RSS'de \"LÄ°NK: https://www.cbc.ca/news/example\" ise, Ã§Ä±ktÄ±da \"Kaynak: https://www.cbc.ca/news/example\" olmalÄ±\n\n## KALÄ°TE KONTROL LÄ°STESÄ°\n\n### Ä°Ã§erik KontrolÃ¼\n- [ ] 30 farklÄ± haber seÃ§ildi mi?\n- [ ] Her konu maksimum 3-4 haberle temsil ediliyor mu?\n- [ ] TÃ¼m baÅŸlÄ±k ve iÃ§erikler TÃ¼rkÃ§e'ye Ã§evrildi mi?\n- [ ] Teknik terimler doÄŸru Ã§evrildi mi?\n\n### Format KontrolÃ¼\n- [ ] AÃ§Ä±klama bÃ¶lÃ¼mÃ¼ 50-75 kelime arasÄ±nda mÄ±?\n- [ ] AÃ§Ä±klama tek paragraf halinde mi?\n- [ ] RSS GÃ¶rsel URL'leri doÄŸru mu?\n\n### Son Kontrol\n- [ ] AynÄ± konuda Ã§ok fazla haber var mÄ±?\n- [ ] Ã‡eviriler akÄ±cÄ± ve anlaÅŸÄ±lÄ±r mÄ±?\n- [ ] Teknik doÄŸruluk korundu mu?\n\n## Ã–RNEK Ã‡IKTI\n\n\\`\\`\\`\n SLIDE 1: OpenAI'nin Yeni GPT Modeli Bilim Ä°nsanlarÄ±nÄ± ÅaÅŸÄ±rttÄ±\nâ€¢ RSS GÃ¶rsel: https://example.com/openai-gpt-news-image.jpg\nâ€¢ AÃ§Ä±klama: OpenAI'nin geliÅŸtirdiÄŸi yeni yapay zeka modeli matematik ve fen problemlerini insan seviyesinde Ã§Ã¶zebiliyor. Bu geliÅŸme eÄŸitim ve araÅŸtÄ±rma alanlarÄ±nda devrim yaratacak potansiyele sahip Ã§Ã¼nkÃ¼ karmaÅŸÄ±k bilimsel sorularÄ± anlayarak adÄ±m adÄ±m Ã§Ã¶zÃ¼m Ã¼retebiliyor. Gelecekte Ã¶ÄŸrenciler ve araÅŸtÄ±rmacÄ±lar iÃ§in gÃ¼Ã§lÃ¼ bir yardÄ±mcÄ± araÃ§ haline gelerek bilimsel keÅŸifleri hÄ±zlandÄ±rabilir.\n  - Kaynak: https://example.com/openai-gpt-news\n\n\nSLIDE 2: Tesla'nÄ±n Yeni Batarya Teknolojisi Menzil Rekoru KÄ±rdÄ±\nâ€¢ RSS GÃ¶rsel: https://example.com/tesla-battery-tech.jpg\nâ€¢ AÃ§Ä±klama: Tesla'nÄ±n geliÅŸtirdiÄŸi yeni lityum-demir-fosfat batarya teknolojisi tek ÅŸarjla 1000 km menzil saÄŸlÄ±yor ve daha hÄ±zlÄ± ÅŸarj sÃ¼releri sunuyor. Bu teknoloji elektrikli araÃ§larÄ±n en bÃ¼yÃ¼k dezavantajlarÄ±ndan biri olan menzil kaygÄ±sÄ±nÄ± ortadan kaldÄ±rdÄ±ÄŸÄ± iÃ§in kritik Ã¶neme sahip. Elektrikli araÃ§ benimsenmesini hÄ±zlandÄ±rarak fosil yakÄ±t baÄŸÄ±mlÄ±lÄ±ÄŸÄ±nÄ± Ã¶nemli Ã¶lÃ§Ã¼de azaltabilir.\n  - Kaynak: https://example.com/tesla-battery-news\n\\`\\`\\`\n\n## KULLANIM TALÄ°MATI\n1. RSS verilerini yukarÄ±daki formatta hazÄ±rla\n2. Ã‡Ä±ktÄ±yÄ± kalite kontrol listesiyle deÄŸerlendir\n3. Gerekirse dÃ¼zeltmeler yap\n${allNewsFormatted}\n\n\n`;\n\nreturn [{\n    json: {\n        prompt: prompt,\n        totalNewsCount: recentNews.length,\n        filteredNewsCount: recentNews.length,\n        originalNewsCount: allRssData.length,\n        processedAt: new Date().toISOString(),\n        debug: {\n            inputCount: $input.all().length,\n            dataStructure: recentNews.slice(0, 2)\n        }\n    }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1560,
        1540
      ],
      "id": "e5c7c3cb-52e8-408f-9b0e-b6d224baa34a",
      "name": "News Processor"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.prompt }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        1920,
        1540
      ],
      "id": "9b3ca6a9-5430-479e-916c-321a94017ed0",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-pro",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1960,
        1880
      ],
      "id": "507942e6-96d2-419d-95c9-12c99f00d475",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "ytoHpLIQ1bvqkRG2",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// HTML Slide Content Processor - Slide NumaralarÄ± Alt KÄ±sÄ±mda ve DÃ¼zeltilmiÅŸ\nconst inputData = $input.first().json;\nlet aiResponse = inputData.text || inputData.response || inputData.output || JSON.stringify(inputData);\n\nconsole.log('AI Response Debug:', aiResponse);\n\n// Tarih ve temel veri\nconst today = new Date();\nconst dateStr = today.toLocaleDateString('tr-TR');\n\n// Dosya adÄ± iÃ§in tarih formatÄ± (Ã¶rn: \"30 Haziran\")\nconst monthNames = [\n  'Ocak', 'Åubat', 'Mart', 'Nisan', 'MayÄ±s', 'Haziran',\n  'Temmuz', 'AÄŸustos', 'EylÃ¼l', 'Ekim', 'KasÄ±m', 'AralÄ±k'\n];\nconst day = today.getDate();\nconst monthName = monthNames[today.getMonth()];\nconst dateForFileName = `${day} ${monthName}`;\n\nconst slideData = {\n  title: 'Teknoloji Haberleri - ' + dateStr,\n  slides: []\n};\n\n// Ä°ntro slide ekle (Slide 1 olarak numaralandÄ±rÄ±lacak)\nslideData.slides.push({\n  title: 'Teknoloji Haberleri Ã–zeti',\n  content: '<h2>' + dateStr + '</h2><h3>GÃ¼nÃ¼n En Ä°lginÃ§ 30 Teknoloji Haberi</h3><p>RSS kaynaklarÄ±ndan alÄ±nan gerÃ§ek haberler ve gÃ¶rseller.</p>',\n  type: 'intro',\n  slideNumber: 1,\n  backgroundImage: 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80'\n});\n\n// TÃ¼rkÃ§e karakterleri doÄŸru bÃ¼yÃ¼k harfe Ã§evir\nfunction toTurkishUpperCase(str) {\n  return str.replace(/i/g, 'Ä°')\n            .replace(/Ä±/g, 'I')\n            .replace(/ÅŸ/g, 'Å')\n            .replace(/ÄŸ/g, 'Ä')\n            .replace(/Ã¼/g, 'Ãœ')\n            .replace(/Ã¶/g, 'Ã–')\n            .replace(/Ã§/g, 'Ã‡')\n            .toUpperCase();\n}\n\n// HTML attribute'larÄ±nÄ± gÃ¼venli hale getiren fonksiyon\nfunction escapeHtml(text) {\n  if (typeof text !== 'string') return '';\n  return text.replace(/&/g, '&amp;')\n             .replace(/</g, '&lt;')\n             .replace(/>/g, '&gt;')\n             .replace(/\"/g, '&quot;')\n             .replace(/'/g, '&#39;');\n}\n\n// VarsayÄ±lan teknoloji gÃ¶rselleri (RSS'de gÃ¶rsel yoksa)\nconst defaultTechImages = [\n  'https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80',\n  'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80',\n  'https://images.unsplash.com/photo-1555255707-c07966088b7b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80',\n  'https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80',\n  'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80'\n];\n\n// AI response iÅŸle\nif (aiResponse && typeof aiResponse === 'string' && aiResponse !== 'Veri bulunamadÄ±') {\n  const slideMatches = aiResponse.match(/SLIDE [0-9]+:[^]*?(?=(?:SLIDE [0-9]+:|$))/g) || [];\n  \n  if (slideMatches.length > 0) {\n    slideMatches.forEach((slideText, index) => {\n      const lines = slideText.split('\\n').filter(line => line.trim());\n      \n      if (lines.length > 0) {\n        const titleMatch = lines[0].match(/^SLIDE [0-9]+:[ ]*(.+)$/);\n        let title = titleMatch ? titleMatch[1].trim() :\n          'Haber ' + (index + 1);\n        \n        // TÃ¼rkÃ§e bÃ¼yÃ¼k harf dÃ¶nÃ¼ÅŸÃ¼mÃ¼\n        title = toTurkishUpperCase(title);\n        \n        let content = '';\n        let rssImageUrl = '';\n        let sourceInfo = {\n          name: '',\n          link: ''\n        };\n        \n        const contentLines = lines.slice(1).filter(line => line.trim());\n        \n        contentLines.forEach(line => {\n          const trimmedLine = line.trim();\n          // Kaynak satÄ±rÄ±nÄ± daha geniÅŸ arama ile yakala\n          if (trimmedLine.startsWith('â€¢') || trimmedLine.startsWith('-') || \n              trimmedLine.toLowerCase().includes('kaynak:') || \n              trimmedLine.toLowerCase().includes('rss gÃ¶rsel:')) {\n            const cleanLine = trimmedLine.replace(/^[â€¢\\-][ ]*/, '');\n            if (cleanLine.includes(':')) {\n              const parts = cleanLine.split(':');\n              if (parts.length > 1) {\n                const fieldName = parts[0].trim();\n                let fieldValue = parts.slice(1).join(':').trim();\n                \n                // RSS GÃ¶rsel alanÄ±nÄ± Ã¶zel olarak yakala\n                if (fieldName === 'RSS GÃ¶rsel') {\n                  if (fieldValue && fieldValue !== 'YOK' && fieldValue !== '' && fieldValue.startsWith('http')) {\n                    rssImageUrl = fieldValue;\n                    console.log(`Slide ${index + 1}: RSS gÃ¶rsel bulundu - ${fieldValue}`);\n                  }\n                } \n                // Kaynak bilgisini yakala  \n                else if (fieldName.toLowerCase() === 'kaynak') {\n                  console.log(`Slide ${index + 1}: Kaynak satÄ±rÄ± iÅŸleniyor: \"${cleanLine}\"`);\n                  \n                  // URL'i bul\n                  const linkMatch = fieldValue.match(/(https?:\\/\\/[^\\s]+)/);\n                  if (linkMatch) {\n                    sourceInfo.link = linkMatch[0];\n                    \n                    // Site adÄ±nÄ± al - format: \"NTV: https://...\" veya \"The Guardian: https://...\"\n                    let siteName = '';\n                    \n                    // URL'den Ã¶nceki kÄ±smÄ± al\n                    const beforeUrl = fieldValue.substring(0, fieldValue.indexOf(linkMatch[0])).trim();\n                    if (beforeUrl && beforeUrl !== '') {\n                      siteName = beforeUrl.replace(/^:+|:+$/g, '').trim();\n                    }\n                    \n                    // EÄŸer hala boÅŸsa URL'den site adÄ±nÄ± Ã§Ä±kar\n                    if (!siteName) {\n                      try {\n                        const urlObj = new URL(sourceInfo.link);\n                        siteName = urlObj.hostname.replace('www.', '').toUpperCase();\n                      } catch (e) {\n                        siteName = 'Haber KaynaÄŸÄ±';\n                      }\n                    }\n                    \n                    sourceInfo.name = siteName;\n                    console.log(`Slide ${index + 1}: Kaynak baÅŸarÄ±yla ayrÄ±ÅŸtÄ±rÄ±ldÄ± - Ad: \"${sourceInfo.name}\", Link: \"${sourceInfo.link}\"`);\n                  } else {\n                    console.log(`Slide ${index + 1}: Kaynak satÄ±rÄ±nda URL bulunamadÄ±: \"${fieldValue}\"`);\n                  }\n                } \n                // DiÄŸer alanlarÄ± iÃ§eriÄŸe ekle\n                else if (fieldName !== 'RSS GÃ¶rsel' && fieldName.toLowerCase() !== 'kaynak') {\n                  // Ä°Ã§eriÄŸi temizle: son kÄ±sÄ±mdaki --  ve - karakterlerini kaldÄ±r\n                  let cleanContent = fieldValue.replace(/\\s*-+\\s*$/, '').trim();\n                  if (cleanContent) {\n                    content += cleanContent + ' ';\n                  }\n                }\n              }\n            } else {\n              // Ä°Ã§eriÄŸi temizle: son kÄ±sÄ±mdaki --  ve - karakterlerini kaldÄ±r\n              let cleanContent = cleanLine.replace(/\\s*-+\\s*$/, '').trim();\n              if (cleanContent) {\n                content += cleanContent + ' ';\n              }\n            }\n          }\n        });\n        \n        // Debug: Kaynak bilgisini kontrol et\n        console.log(`Slide ${index + 1}: sourceInfo kontrolÃ¼`, sourceInfo);\n        \n        // GÃ¶rsel Ã¶ncelik: 1) RSS'den gelen gerÃ§ek gÃ¶rsel 2) VarsayÄ±lan teknoloji gÃ¶rseli\n        let slideImage;\n        if (rssImageUrl && rssImageUrl.length > 10 && rssImageUrl.startsWith('http')) {\n          slideImage = rssImageUrl;\n          console.log(`Slide ${index + 1}: RSS gÃ¶rsel kullanÄ±lÄ±yor - ${rssImageUrl}`);\n        } else {\n          // RSS'de gÃ¶rsel yoksa varsayÄ±lan teknoloji gÃ¶rseli kullan\n          slideImage = defaultTechImages[index % defaultTechImages.length];\n          console.log(`Slide ${index + 1}: RSS gÃ¶rsel yok, varsayÄ±lan teknoloji gÃ¶rseli kullanÄ±lÄ±yor`);\n        }\n        \n        // Final slide objesini oluÅŸtur - Slide numarasÄ± ekle (intro = 1, haber slide'larÄ± 2'den baÅŸlar)\n        const slideNumber = index + 2; // intro slide'Ä± 1 olduÄŸu iÃ§in haber slide'larÄ± 2'den baÅŸlar\n        \n        // Kaynak linkini iÃ§eriÄŸin sonuna gÃ¼zelce ekle\n        let sourceHtml = '';\n        if (sourceInfo.link && sourceInfo.link.trim() !== '') {\n          const safeSourceName = escapeHtml(sourceInfo.name || 'Haber KaynaÄŸÄ±');\n          sourceHtml = `\n            <div class=\"news-source-container\">\n              <div class=\"source-label\">\n                ğŸ“° <strong>Kaynak:</strong>\n              </div>\n              <a href=\"${sourceInfo.link}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"source-link\">\n                ğŸ”— ${safeSourceName}\n              </a>\n            </div>`;\n          console.log(`Slide ${index + 1}: Kaynak linki eklendi - ${safeSourceName}`);\n        } else {\n          console.log(`Slide ${index + 1}: Kaynak linki bulunamadÄ± veya boÅŸ`);\n        }\n        \n        const finalSlide = {\n          title: title,\n          content: content + sourceHtml, // slide-content div'ini burada eklemeyeceÄŸiz, sonra ekleyeceÄŸiz\n          type: 'content',\n          imageUrl: slideImage,\n          sourceLink: sourceInfo.link || null,\n          sourceName: sourceInfo.name || null,\n          slideNumber: slideNumber\n        };\n        \n        slideData.slides.push(finalSlide);\n        console.log(`Slide ${slideNumber}: Slide oluÅŸturuldu -`, finalSlide.title);\n      }\n    });\n  }\n  \n  if (slideMatches.length === 0) {\n    slideData.slides.push({\n      title: 'AI Analizi',\n      content: '<p>' + aiResponse.substring(0, 1000) + '</p>',\n      type: 'content',\n      slideNumber: 2\n    });\n  }\n} else {\n  slideData.slides.push({\n    title: 'Bilgi',\n    content: '<p>AI Agent yanÄ±tÄ± iÅŸlenemiyor. LÃ¼tfen workflow baÄŸlantÄ±larÄ±nÄ± kontrol edin.</p>',\n    type: 'error',\n    slideNumber: 2\n  });\n}\n\n// TÃ¼m slide'lara slide numarasÄ± ekle\nslideData.slides.forEach((slide, index) => {\n  if (!slide.slideNumber) {\n    slide.slideNumber = index + 1;\n  }\n});\n\n// Trend analizi slide'Ä± ekle\nconst lastSlideNumber = slideData.slides.length + 1;\nslideData.slides.push({\n  title: 'GÃ¼nÃ¼n Teknoloji Trendleri',\n  content: '<ul class=\"trend-list\"><li>ğŸ¤– Yapay Zeka ve ChatGPT geliÅŸmeleri</li><li>ğŸš— Elektrikli araÃ§ ve otonom sÃ¼rÃ¼ÅŸ</li><li>ğŸ“± Yeni akÄ±llÄ± telefon ve gadget lansmanlarÄ±</li><li>ğŸ”’ Siber gÃ¼venlik ve veri gizliliÄŸi</li><li>ğŸš€ Uzay teknolojisi ve roket projeleri</li><li>ğŸ’¡ Yenilenebilir enerji Ã§Ã¶zÃ¼mleri</li><li>ğŸ¢ BÃ¼yÃ¼k teknoloji ÅŸirketlerinin stratejileri</li><li>ğŸ”¬ Biyoteknoloji ve saÄŸlÄ±k innovasyonlarÄ±</li></ul>',\n  type: 'summary',\n  slideNumber: lastSlideNumber\n});\n\n// HTML template oluÅŸtur\nlet htmlTemplate = '<!DOCTYPE html><html><head><meta charset=\"utf-8\"><title>' + slideData.title + '</title>';\nhtmlTemplate += '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css\">';\nhtmlTemplate += '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/white.min.css\">';\nhtmlTemplate += '<style>';\nhtmlTemplate += '.reveal{font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-size:16px}';\nhtmlTemplate += '.reveal h1{font-size:2.0em;color:#2c3e50;margin-bottom:0.3em}';\nhtmlTemplate += '.reveal h2{font-size:1.6em;color:#2c3e50;border-bottom:2px solid #3498db;padding-bottom:0.2em;margin-bottom:0.5em}';\nhtmlTemplate += '.reveal .slides section{text-align:left;padding:20px;height:100vh;display:flex;flex-direction:column;box-sizing:border-box;position:relative;background:#ffffff}';\nhtmlTemplate += '.slide-content{font-size:20px;line-height:1.6;background:#fff;padding:25px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.1);flex:1;overflow-y:auto;margin-bottom:60px}';\n\n// Ä°ntro slide CSS - DÃ¼zeltilmiÅŸ\nhtmlTemplate += '.intro-slide{text-align:center;padding:40px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-radius:15px;height:calc(100vh - 100px);display:flex;flex-direction:column;justify-content:center;align-items:center;margin:20px;box-shadow:0 8px 32px rgba(0,0,0,0.3)}';\nhtmlTemplate += '.intro-slide h1,.intro-slide h2,.intro-slide h3{color:white;margin:0.5em 0;text-shadow:0 2px 4px rgba(0,0,0,0.3)}';\nhtmlTemplate += '.intro-slide h1{font-size:2.5em;font-weight:700}';\nhtmlTemplate += '.intro-slide h2{font-size:1.8em;font-weight:500}';\nhtmlTemplate += '.intro-slide h3{font-size:1.4em;font-weight:400}';\nhtmlTemplate += '.intro-slide p{font-size:1.2em;margin:1em 0;opacity:0.9}';\n\n// Liste stilleri\nhtmlTemplate += '.trend-list{list-style:none;padding:0;font-size:1.1em;margin:0}';\nhtmlTemplate += '.trend-list li{padding:15px 25px;background:linear-gradient(135deg,#f8f9fa,#ffffff);border-radius:8px;border-left:4px solid #3498db;margin:10px 0;font-size:16px;box-shadow:0 2px 6px rgba(0,0,0,0.1);transition:all 0.3s ease}';\nhtmlTemplate += '.trend-list li:hover{transform:translateX(5px);box-shadow:0 4px 12px rgba(0,0,0,0.2)}';\n\n// Hata iÃ§eriÄŸi\nhtmlTemplate += '.error-content{color:#d32f2f;background:#ffebee;padding:20px;border-radius:8px;font-size:16px;border-left:4px solid #f44336}';\n\n// Slide numarasÄ± iÃ§in CSS - ALT KISIMDA\nhtmlTemplate += '.slide-number{position:fixed;bottom:25px;right:25px;background:linear-gradient(135deg,#3498db,#2980b9);color:white;padding:8px 16px;border-radius:20px;font-size:13px;font-weight:600;z-index:1000;box-shadow:0 4px 12px rgba(52,152,219,0.4);backdrop-filter:blur(10px)}';\n\n// Kaynak gÃ¶sterimi iÃ§in CSS - GeliÅŸtirilmiÅŸ\nhtmlTemplate += '.news-source-container{margin-top:30px;padding:20px;border-top:3px solid #e8f4fd;background:linear-gradient(135deg,#f8f9fa,#ffffff);border-radius:10px;box-shadow:0 3px 8px rgba(0,0,0,0.1)}';\nhtmlTemplate += '.source-label{font-size:15px;color:#555;margin-bottom:12px;font-weight:600}';\nhtmlTemplate += '.source-link{display:inline-block;background:linear-gradient(135deg,#3498db,#2980b9);color:white;text-decoration:none;padding:12px 24px;border-radius:25px;font-size:14px;font-weight:600;transition:all 0.3s ease;box-shadow:0 3px 8px rgba(52,152,219,0.3);transform:translateY(0)}';\nhtmlTemplate += '.source-link:hover{transform:translateY(-3px);box-shadow:0 6px 16px rgba(52,152,219,0.4);background:linear-gradient(135deg,#2980b9,#3498db)}';\n\n// Responsive tasarÄ±m\nhtmlTemplate += '@media (max-width: 768px){.slide-content{padding:20px;margin-bottom:80px;font-size:18px}.slide-number{bottom:15px;right:15px;padding:6px 12px;font-size:12px}.intro-slide{margin:10px;padding:30px}.intro-slide h1{font-size:2em}.intro-slide h2{font-size:1.5em}}';\n\n// Reveal.js kontrolleri\nhtmlTemplate += '.reveal .controls{position:fixed !important;bottom:15px !important;left:50% !important;transform:translateX(-50%) !important;right:auto !important;top:auto !important;width:auto !important;height:auto !important}';\nhtmlTemplate += '.reveal .progress{position:fixed;bottom:0;left:0;right:0;height:4px;background:rgba(52,152,219,0.2)}';\nhtmlTemplate += '.reveal .progress span{background:linear-gradient(90deg,#3498db,#2980b9)}';\n\nhtmlTemplate += '</style>';\nhtmlTemplate += '</head><body><div class=\"reveal\"><div class=\"slides\">';\n\n// Slide'larÄ± oluÅŸtur - DÃ¼zeltilmiÅŸ\nfor (let i = 0; i < slideData.slides.length; i++) {\n  const slide = slideData.slides[i];\n  \n  // Slide numarasÄ± HTML'i\n  const slideNumberHtml = ``;\n  \n  if (slide.type === 'intro') {\n    // Ä°ntro slide - Ã–zel layout\n    htmlTemplate += '<section data-background-color=\"#667eea\">';\n    htmlTemplate += slideNumberHtml;\n    htmlTemplate += '<div class=\"intro-slide\">';\n    htmlTemplate += '<h1>' + escapeHtml(slide.title) + '</h1>';\n    htmlTemplate += slide.content;\n    htmlTemplate += '</div>';\n    htmlTemplate += '</section>';\n  } else if (slide.type === 'summary') {\n    // Ã–zet slide\n    htmlTemplate += '<section>';\n    htmlTemplate += slideNumberHtml;\n    htmlTemplate += '<h2>' + escapeHtml(slide.title) + '</h2>';\n    htmlTemplate += '<div class=\"slide-content\">';\n    htmlTemplate += slide.content;\n    htmlTemplate += '</div>';\n    htmlTemplate += '</section>';\n  } else {\n    // Normal haber slide'larÄ±\n    htmlTemplate += '<section>';\n    htmlTemplate += slideNumberHtml;\n    htmlTemplate += '<h2>' + escapeHtml(slide.title || 'Haber') + '</h2>';\n    \n    // GÃ¶rsel varsa ekle\n    if (slide.imageUrl) {\n      let safeImageUrl = slide.imageUrl;\n      \n      // URL doÄŸrulama\n      if (!safeImageUrl || typeof safeImageUrl !== 'string' || safeImageUrl.length < 10 || \n          (!safeImageUrl.startsWith('https://') && !safeImageUrl.startsWith('http://'))) {\n        safeImageUrl = defaultTechImages[0];\n        console.log(`Invalid image URL detected: ${slide.imageUrl}, using fallback`);\n      }\n      \n      htmlTemplate += '<div style=\"text-align:center;margin:15px 0;\">';\n      htmlTemplate += '<img src=\"' + safeImageUrl + '\" alt=\"' + escapeHtml(slide.title || 'Haber') + '\" ';\n      htmlTemplate += 'style=\"width:100%;max-width:700px;height:250px;object-fit:cover;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.15);\" ';\n      htmlTemplate += 'onerror=\"this.src=\\'' + defaultTechImages[0] + '\\';\"/>';\n      htmlTemplate += '</div>';\n    }\n    \n    // Ä°Ã§erik\n    htmlTemplate += '<div class=\"slide-content\">';\n    htmlTemplate += slide.content;\n    htmlTemplate += '</div>';\n    htmlTemplate += '</section>';\n  }\n}\n\nhtmlTemplate += '</div></div>';\nhtmlTemplate += '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js\"></script>';\nhtmlTemplate += '<script>';\nhtmlTemplate += 'Reveal.initialize({';\nhtmlTemplate += 'controls:true,';\nhtmlTemplate += 'progress:true,';\nhtmlTemplate += 'center:false,';\nhtmlTemplate += 'hash:true,';\nhtmlTemplate += 'transition:\"slide\",';\nhtmlTemplate += 'transitionSpeed:\"default\",';\nhtmlTemplate += 'backgroundTransition:\"fade\",';\nhtmlTemplate += 'navigationMode:\"linear\",';\nhtmlTemplate += 'keyboard:true,';\nhtmlTemplate += 'overview:true,';\nhtmlTemplate += 'touch:true,';\nhtmlTemplate += 'loop:false,';\nhtmlTemplate += 'rtl:false,';\nhtmlTemplate += 'fragments:true';\nhtmlTemplate += '});';\nhtmlTemplate += '</script>';\nhtmlTemplate += '</body></html>';\n\nreturn [{\n  json: {\n    title: slideData.title,\n    slides: slideData.slides,\n    slideCount: slideData.slides.length,\n    htmlContent: htmlTemplate,\n    fileName: `${dateForFileName} Teknoloji-Haberleri.html`,\n    fileSize: Buffer.byteLength(htmlTemplate, 'utf8'),\n    createdAt: new Date().toISOString(),\n    debug: {\n      aiResponseLength: aiResponse ? aiResponse.length : 0,\n      slidesFound: slideData.slides.length - 2,\n      totalSlides: slideData.slides.length\n    }\n  }\n}]; "
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2340,
        1540
      ],
      "id": "55be222d-9c6f-4232-a32a-adf768d5d419",
      "name": "HTML Slide Content Processor"
    },
    {
      "parameters": {
        "jsCode": "// HTML iÃ§eriÄŸini binary data'ya Ã§evir\nconst htmlData = $input.first().json;\n\n// HTML iÃ§eriÄŸini kontrol et\nif (!htmlData.htmlContent || typeof htmlData.htmlContent !== 'string') {\n  throw new Error('HTML iÃ§eriÄŸi bulunamadÄ± veya geÃ§ersiz format. htmlContent alanÄ± boÅŸ veya undefined.');\n}\n\nconsole.log('HTML Content Length:', htmlData.htmlContent.length);\nconsole.log('HTML Data Keys:', Object.keys(htmlData));\n\n// HTML iÃ§eriÄŸini Buffer'a Ã§evir\nconst htmlBuffer = Buffer.from(htmlData.htmlContent, 'utf8');\n\nreturn [{\n  json: {\n    fileName: htmlData.fileName || `${new Date().getDate()} ${['Ocak', 'Åubat', 'Mart', 'Nisan', 'MayÄ±s', 'Haziran', 'Temmuz', 'AÄŸustos', 'EylÃ¼l', 'Ekim', 'KasÄ±m', 'AralÄ±k'][new Date().getMonth()]} Teknoloji-Haberleri.html`,\n    title: htmlData.title || 'Teknoloji Haberleri',\n    slideCount: htmlData.slideCount || 0,\n    fileSize: htmlData.fileSize || htmlBuffer.length,\n    createdAt: htmlData.createdAt || new Date().toISOString()\n  },\n  binary: {\n    data: {\n      data: htmlBuffer,\n      mimeType: 'text/html',\n      fileName: htmlData.fileName || `${new Date().getDate()} ${['Ocak', 'Åubat', 'Mart', 'Nisan', 'MayÄ±s', 'Haziran', 'Temmuz', 'AÄŸustos', 'EylÃ¼l', 'Ekim', 'KasÄ±m', 'AralÄ±k'][new Date().getMonth()]} Teknoloji-Haberleri.html`,\n      fileExtension: 'html'\n    }\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2620,
        1540
      ],
      "id": "c29c0410-cfe0-4abf-85a2-a82a080aba6b",
      "name": "Binary Converter"
    },
    {
      "parameters": {
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1CRBZ02CSXIEI2TnYY-zt80qBGUMm3KXW",
          "mode": "list",
          "cachedResultName": "n8nNews",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1CRBZ02CSXIEI2TnYY-zt80qBGUMm3KXW"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        2900,
        1540
      ],
      "id": "68a0cb76-04a6-4baa-af7d-3e5c6e146ea0",
      "name": "Google Drive'a Kaydet",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "duN0tmFOoyS0fV0m",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Google Drive upload sonucu iÅŸle\nconst driveResult = $input.first().json;\nconst htmlData = $('HTML Slide Content Processor').first().json;\n\nconsole.log('Google Drive Response:', JSON.stringify(driveResult, null, 2));\n\n// BaÅŸarÄ± mesajÄ± ve dosya bilgileri\nconst completionData = {\n  status: 'success',\n  message: 'Teknoloji haberleri HTML sunumu baÅŸarÄ±yla Google Drive\\'a kaydedildi!',\n  presentationTitle: htmlData.title,\n  slideCount: htmlData.slideCount,\n  fileName: htmlData.fileName || 'teknoloji-haberleri.html',\n  fileSize: `${Math.round(htmlData.fileSize / 1024)} KB`,\n  createdAt: new Date().toISOString(),\n  dateFormatted: new Date().toLocaleDateString('tr-TR', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  }),\n  googleDrive: {\n    fileId: driveResult.id || 'Bilinmiyor',\n    fileName: driveResult.name || htmlData.fileName || 'teknoloji-haberleri.html',\n    webViewLink: driveResult.webViewLink || 'Link bulunamadÄ±',\n    webContentLink: driveResult.webContentLink || 'Ä°ndirme linki bulunamadÄ±',\n    directLink: `https://drive.google.com/file/d/${driveResult.id}/view?usp=sharing`,\n    downloadLink: `https://drive.google.com/uc?export=download&id=${driveResult.id}`,\n    size: driveResult.size || 'Bilinmiyor',\n    owners: driveResult.owners || 'Bilinmiyor',\n    createdTime: driveResult.createdTime || 'Bilinmiyor'\n  },\n  features: [\n    'âœ¨ Sadece RSS gÃ¶rsellerini kullanÄ±r',\n    'ğŸ“± Mobil uyumlu responsive tasarÄ±m', \n    'ğŸ¨ GÃ¼zel geÃ§iÅŸ animasyonlarÄ±',\n    'ğŸ“Š Otomatik slide numaralandÄ±rma',\n    'ğŸ¯ Ä°nteraktif navigasyon',\n    'â˜ï¸ Otomatik Google Drive kayÄ±t',\n    'ğŸ–¼ï¸ RSS kaynaklÄ± gerÃ§ek gÃ¶rseller'\n  ]\n};\n\nreturn [{\n  json: completionData\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3160,
        1540
      ],
      "id": "b2e87138-3feb-4a0c-a657-0f293fc2b232",
      "name": "Completion Processor"
    },
    {
      "parameters": {
        "jsCode": "// E-posta iÃ§in veri hazÄ±rla\nconst completionData = $input.first().json;\nconst htmlBinaryData = $('Binary Converter').first().binary;\n\n// E-posta iÃ§eriÄŸi hazÄ±rla\nconst emailData = {\n  to: 'alicangullu84@gmail.com',\n  from: 'vli.kcc@gmail.com',\n  subject: `ğŸ“Š GÃ¼nlÃ¼k Teknoloji Haberleri Sunumu - ${completionData.dateFormatted}`,\n  body: `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f8f9fa;\">\n      <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; text-align: center; margin-bottom: 20px;\">\n        <h1 style=\"margin: 0; font-size: 24px;\">ğŸ“Š GÃ¼nlÃ¼k Teknoloji Haberleri</h1>\n        <p style=\"margin: 10px 0 0 0; font-size: 16px; opacity: 0.9;\">${completionData.dateFormatted}</p>\n      </div>\n      \n      <div style=\"background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\">\n        <h2 style=\"color: #2c3e50; margin-top: 0;\">ğŸ“ˆ Sunum Ã–zeti</h2>\n        \n        <div style=\"background: #e8f4fd; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db; margin: 15px 0;\">\n          <strong>ğŸ“ Slide SayÄ±sÄ±:</strong> ${completionData.slideCount}<br>\n          <strong>ğŸ“ Dosya Boyutu:</strong> ${completionData.fileSize}<br>\n          <strong>â° OluÅŸturulma:</strong> ${completionData.dateFormatted}\n        </div>\n        \n        <h3 style=\"color: #2c3e50;\">âœ¨ Sunum Ã–zellikleri:</h3>\n        <ul style=\"line-height: 1.6; color: #555;\">\n          ${completionData.features.map(feature => `<li>${feature}</li>`).join('')}\n        </ul>\n        \n        <div style=\"background: #fff3cd; padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107; margin: 20px 0;\">\n          <strong>ğŸ“ Ek Dosya:</strong> ${completionData.fileName}<br>\n          <small style=\"color: #666;\">Bu dosyayÄ± tarayÄ±cÄ±nÄ±zda aÃ§arak sunumu gÃ¶rÃ¼ntÃ¼leyebilirsiniz.</small>\n        </div>\n        \n        <div style=\"background: #d1ecf1; padding: 15px; border-radius: 8px; border-left: 4px solid #17a2b8; margin: 20px 0;\">\n          <strong>â˜ï¸ Google Drive Linki:</strong><br>\n          <a href=\"${completionData.googleDrive.directLink}\" style=\"color: #17a2b8; text-decoration: none;\">Sunumu Google Drive'da GÃ¶rÃ¼ntÃ¼le</a>\n        </div>\n        \n        <hr style=\"border: none; border-top: 1px solid #eee; margin: 25px 0;\">\n        \n        <div style=\"text-align: center; color: #666; font-size: 14px;\">\n          <p>Bu e-posta otomatik olarak n8n workflow sistemi tarafÄ±ndan gÃ¶nderilmiÅŸtir.</p>\n          <p>GÃ¼nlÃ¼k teknoloji haberlerini kaÃ§Ä±rmayÄ±n! ğŸš€</p>\n        </div>\n      </div>\n    </div>\n  `,\n  attachmentName: completionData.fileName,\n  attachmentMimeType: 'text/html'\n};\n\nreturn [{\n  json: emailData,\n  binary: htmlBinaryData\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3440,
        1540
      ],
      "id": "a383b993-7787-41b2-a54b-024295ce20e7",
      "name": "E-posta HazÄ±rlayÄ±cÄ±"
    },
    {
      "parameters": {
        "sendTo": "={{ $json.to }}",
        "subject": "={{ $json.subject }}",
        "message": "={{ $json.body }}",
        "options": {
          "attachmentsUi": {
            "attachmentsBinary": [
              {}
            ]
          }
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        3720,
        1540
      ],
      "id": "82c17a37-32e0-44e9-b0f1-703837705415",
      "name": "Gmail GÃ¶nder",
      "webhookId": "6ede2f3c-006a-4bb1-93d2-9a8262604be8",
      "credentials": {
        "gmailOAuth2": {
          "id": "EqGqoN6aCN5uwvwE",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "numberInputs": 10
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        540,
        1640
      ],
      "id": "2414b3a4-a7a1-463e-b064-dcc58d690621",
      "name": "Merge"
    },
    {
      "parameters": {
        "numberInputs": 10
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        540,
        1100
      ],
      "id": "2e7b3e42-e145-4287-b996-d1f2e9abc8b9",
      "name": "Merge1"
    },
    {
      "parameters": {
        "numberInputs": 10
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        540,
        580
      ],
      "id": "540ef393-abb5-41eb-9443-c379a2513163",
      "name": "Merge2"
    },
    {
      "parameters": {
        "numberInputs": 5
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        540,
        2180
      ],
      "id": "691b57fb-7386-4805-9ea7-187c7fd3a574",
      "name": "Merge3"
    },
    {
      "parameters": {
        "numberInputs": 4
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1140,
        1520
      ],
      "id": "ae947a6f-f8f1-492b-876a-63aef077df96",
      "name": "Merge4"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 7,
              "triggerAtMinute": 30
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -1160,
        1380
      ],
      "id": "83c49742-c284-45bb-aa9e-08c1726e3394",
      "name": "Schedule Trigger"
    }
  ],
  "pinData": {},
  "connections": {
    "RSS Read": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Read1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "RSS Read2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "RSS Read3": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "RSS Read4": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 4
          }
        ]
      ]
    },
    "RSS Read5": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 5
          }
        ]
      ]
    },
    "RSS Read8": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 8
          }
        ]
      ]
    },
    "RSS Read9": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 9
          }
        ]
      ]
    },
    "RSS Read12": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "RSS Read13": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "RSS Read14": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 4
          }
        ]
      ]
    },
    "RSS Read15": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 5
          }
        ]
      ]
    },
    "RSS Read21": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 7
          }
        ]
      ]
    },
    "RSS Read22": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 8
          }
        ]
      ]
    },
    "RSS Read25": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "RSS Read27": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "RSS Read30": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "News Processor": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "HTML Slide Content Processor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Binary Converter": {
      "main": [
        [
          {
            "node": "Google Drive'a Kaydet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive'a Kaydet": {
      "main": [
        [
          {
            "node": "Completion Processor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Completion Processor": {
      "main": [
        [
          {
            "node": "E-posta HazÄ±rlayÄ±cÄ±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML Slide Content Processor": {
      "main": [
        [
          {
            "node": "Binary Converter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge3": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "Merge4": {
      "main": [
        [
          {
            "node": "News Processor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "RSS Read25",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read27",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read21",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read22",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read12",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read13",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read14",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read15",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read1",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read2",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read3",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read4",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read5",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read8",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read9",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Read30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "E-posta HazÄ±rlayÄ±cÄ±": {
      "main": [
        [
          {
            "node": "Gmail GÃ¶nder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "83b83abf-3961-4aab-b112-57141631a4a2",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "361bf5cfb0dfd86fcc4d4f6dc050ee6c7654e6ade682853100f1779e2c2d5c06"
  },
  "id": "K75TfLLn9ilEYXiO",
  "tags": []
}